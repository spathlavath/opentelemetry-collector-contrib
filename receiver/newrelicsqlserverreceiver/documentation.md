[comment]: <> (Code generated by mdatagen. DO NOT EDIT.)

# newrelicsqlserver

## Default Metrics

The following metrics are emitted by default. Each of them can be disabled by applying the following configuration:

```yaml
metrics:
  <metric_name>:
    enabled: false
```

### sqlserver.activequery.cpu_time_ms

CPU time consumed by active query

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Int |

### sqlserver.activequery.elapsed_time_ms

Total elapsed time for active query

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Int |

### sqlserver.activequery.granted_memory_pages

Granted query memory in pages

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {pages} | Gauge | Int |

### sqlserver.activequery.logical_reads

Logical reads by active query

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {reads} | Gauge | Int |

### sqlserver.activequery.physical_reads

Physical reads by active query

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {reads} | Gauge | Int |

### sqlserver.activequery.physical_writes

Writes by active query

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {writes} | Gauge | Int |

### sqlserver.activequery.row_count

Rows returned by active query

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {rows} | Gauge | Int |

### sqlserver.activequery.wait_time_s

Current wait time for active query

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| s | Gauge | Double |

### sqlserver.database.bufferpool.size

Size of buffer pool allocated per database

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| By | Gauge | Int |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| db_name | Database name | Any Str | false |

### sqlserver.database.disk.max_size

Maximum disk size for database (Azure SQL Database)

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| By | Gauge | Int |

### sqlserver.database.io.stall_time

I/O stall time in milliseconds

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Int |

### sqlserver.database.log.transaction_growth

Transaction log growth count

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.database.pagefile.available

Available page file space

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| By | Gauge | Int |

### sqlserver.database.pagefile.total

Total page file space

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| By | Gauge | Int |

### sqlserver.database.principals.count

Number of database principals

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.database.role.active_memberships

Active role memberships

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.database.role.inherited_permissions

Inherited permissions count

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.database.role.nesting_level

Role nesting depth

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.database.role.total_memberships

Total role memberships

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.database.role.unique_members

Unique role members

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.failover_cluster.failure_condition_level

AG failure condition level setting

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.failover_cluster.health_check_timeout_ms

AG health check timeout

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Int |

### sqlserver.failover_cluster.replica_role

Availability Group replica role indicator

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| replica_id | Availability Group replica identifier | Any Str | false |
| role | Replica role (PRIMARY, SECONDARY) | Any Str | false |

### sqlserver.failover_cluster.synchronization_health

AG synchronization health status

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| replica_id | Availability Group replica identifier | Any Str | false |
| synchronization_health | Synchronization health status | Any Str | false |

### sqlserver.instance.active_connections

Number of active connections

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {connections} | Gauge | Int |

### sqlserver.instance.buffer_pool.hit_percent

Buffer pool cache hit ratio percentage

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| % | Gauge | Double |

### sqlserver.instance.buffer_pool.size

Buffer pool size in bytes

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| By | Gauge | Int |

### sqlserver.instance.disk_metrics

Instance-level disk I/O metrics

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| By | Gauge | Int |

### sqlserver.instance.memory.available

Available physical memory

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| By | Gauge | Int |

### sqlserver.instance.memory.total

Total physical memory available to SQL Server

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| By | Gauge | Int |

### sqlserver.instance.memory.utilization

Memory utilization percentage

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| % | Gauge | Double |

### sqlserver.instance.process_counts

Number of processes/connections

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.instance.runnable_tasks

Number of runnable tasks waiting for CPU

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {tasks} | Gauge | Int |

### sqlserver.lock.mode.bulk_update

Number of bulk update locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.mode.exclusive

Number of exclusive locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.mode.intent

Number of intent locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.mode.schema

Number of schema locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.mode.shared

Number of shared locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.mode.shared_intent_exclusive

Number of shared intent exclusive locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.mode.total

Total active locks by mode

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.mode.update

Number of update locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.allocation_unit

Number of allocation unit locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.application

Number of application locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.database

Number of database-level locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.extent

Number of extent-level locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.file

Number of file-level locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.hobt

Number of heap or B-tree locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.key

Number of key-level locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.metadata

Number of metadata locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.page

Number of page-level locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.row

Number of row-level locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.table

Number of table-level locks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.lock.resource.total

Total active locks in the database

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.locked_object

Information about locked database objects

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.plan.avg_elapsed_time_ms

Average elapsed time for plan

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Double |

### sqlserver.plan.avg_logical_reads

Average logical page reads

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {reads} | Gauge | Double |

### sqlserver.plan.avg_logical_writes

Average logical page writes

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {writes} | Gauge | Double |

### sqlserver.plan.avg_worker_time_ms

Average CPU worker time

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Double |

### sqlserver.plan.execution_count

Number of times execution plan was executed

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {executions} | Gauge | Int |

### sqlserver.plan.total_elapsed_time_ms

Total elapsed time for all executions

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Int |

### sqlserver.security.principals.count

Server-level principals count

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.security.role_members.count

Server role members count

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.slowquery.avg_cpu_time_ms

Average CPU time for slow query

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Double |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| query_id | Unique identifier for the query | Any Str | false |
| database_name | Name of the database where the query executed | Any Str | false |
| query_text | SQL query text | Any Str | false |
| last_execution_timestamp | Timestamp of last execution | Any Str | false |

### sqlserver.slowquery.avg_disk_reads

Average physical disk reads

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Double |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| query_id | Unique identifier for the query | Any Str | false |
| database_name | Name of the database where the query executed | Any Str | false |
| query_text | SQL query text | Any Str | false |
| last_execution_timestamp | Timestamp of last execution | Any Str | false |

### sqlserver.slowquery.avg_disk_writes

Average physical disk writes

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Double |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| query_id | Unique identifier for the query | Any Str | false |
| database_name | Name of the database where the query executed | Any Str | false |
| query_text | SQL query text | Any Str | false |
| last_execution_timestamp | Timestamp of last execution | Any Str | false |

### sqlserver.slowquery.avg_rows_processed

Average number of rows processed

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {rows} | Gauge | Double |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| query_id | Unique identifier for the query | Any Str | false |
| database_name | Name of the database where the query executed | Any Str | false |
| query_text | SQL query text | Any Str | false |
| last_execution_timestamp | Timestamp of last execution | Any Str | false |

### sqlserver.slowquery.historical_avg_elapsed_time_ms

Historical average elapsed time since plan cached

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Double |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| query_id | Unique identifier for the query | Any Str | false |
| database_name | Name of the database where the query executed | Any Str | false |
| query_text | SQL query text | Any Str | false |
| last_execution_timestamp | Timestamp of last execution | Any Str | false |

### sqlserver.slowquery.historical_execution_count

Total execution count since plan cached

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| query_id | Unique identifier for the query | Any Str | false |
| database_name | Name of the database where the query executed | Any Str | false |
| query_text | SQL query text | Any Str | false |
| last_execution_timestamp | Timestamp of last execution | Any Str | false |

### sqlserver.slowquery.interval_avg_elapsed_time_ms

Interval (delta) average elapsed time

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Double |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| query_id | Unique identifier for the query | Any Str | false |
| database_name | Name of the database where the query executed | Any Str | false |
| query_text | SQL query text | Any Str | false |
| last_execution_timestamp | Timestamp of last execution | Any Str | false |

### sqlserver.slowquery.interval_execution_count

Execution count in collection interval (delta)

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| query_id | Unique identifier for the query | Any Str | false |
| database_name | Name of the database where the query executed | Any Str | false |
| query_text | SQL query text | Any Str | false |
| last_execution_timestamp | Timestamp of last execution | Any Str | false |

### sqlserver.slowquery.last_dop

Degree of parallelism (DOP) used

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {threads} | Gauge | Double |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| query_id | Unique identifier for the query | Any Str | false |
| database_name | Name of the database where the query executed | Any Str | false |
| query_text | SQL query text | Any Str | false |
| last_execution_timestamp | Timestamp of last execution | Any Str | false |

### sqlserver.slowquery.last_grant_kb

Memory grant for query in KB

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| KBy | Gauge | Double |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| query_id | Unique identifier for the query | Any Str | false |
| database_name | Name of the database where the query executed | Any Str | false |
| query_text | SQL query text | Any Str | false |
| last_execution_timestamp | Timestamp of last execution | Any Str | false |

### sqlserver.slowquery.last_spills

TempDB spill pages

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {pages} | Gauge | Int |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| query_id | Unique identifier for the query | Any Str | false |
| database_name | Name of the database where the query executed | Any Str | false |
| query_text | SQL query text | Any Str | false |
| last_execution_timestamp | Timestamp of last execution | Any Str | false |

### sqlserver.tempdb.allocation_waits

TempDB allocation contention wait time

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Int |

### sqlserver.tempdb.current_waiters

Current tasks waiting on TempDB resources

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {tasks} | Gauge | Int |

### sqlserver.tempdb.data_file_count

Number of TempDB data files

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {files} | Gauge | Int |

### sqlserver.tempdb.pagelatch_waits

TempDB page latch wait time

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| ms | Gauge | Int |

### sqlserver.tempdb.total_size

Total TempDB size

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| MBy | Gauge | Int |

### sqlserver.threadpool.current_tasks

Current number of active tasks

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {tasks} | Gauge | Int |

### sqlserver.threadpool.max_workers

Maximum configured worker threads

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {threads} | Gauge | Int |

### sqlserver.threadpool.runnable_tasks

Runnable tasks waiting for CPU

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {tasks} | Gauge | Int |

### sqlserver.threadpool.running_workers

Currently executing worker threads

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {threads} | Gauge | Int |

### sqlserver.threadpool.utilization

Thread pool utilization percentage

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| % | Gauge | Double |

### sqlserver.threadpool.waiting_tasks

Tasks waiting for thread pool resources

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {tasks} | Gauge | Int |

### sqlserver.threadpool.work_queue_count

Work items queued for thread pool

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {tasks} | Gauge | Int |

### sqlserver.user_connections.authentication.failed

Number of failed authentication attempts

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Int |

### sqlserver.user_connections.authentication.logins_per_sec

Number of logins per second

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {logins}/s | Gauge | Double |

### sqlserver.user_connections.authentication.logouts_per_sec

Number of logouts per second

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {logouts}/s | Gauge | Double |

### sqlserver.user_connections.by_status

User connections by status

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {connections} | Gauge | Int |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| connection_status | Connection status (sleeping, running, suspended, etc.) | Any Str | false |

### sqlserver.user_connections.total

Total user connections

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| {connections} | Gauge | Int |

### sqlserver.user_connections.utilization.active_ratio

Ratio of active to total connections

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Double |

### sqlserver.user_connections.utilization.efficiency

Connection efficiency score

| Unit | Metric Type | Value Type |
| ---- | ----------- | ---------- |
| 1 | Gauge | Double |

### sqlserver.wait_stats.latch.wait_time

Cumulative latch wait time

| Unit | Metric Type | Value Type | Aggregation Temporality | Monotonic |
| ---- | ----------- | ---------- | ----------------------- | --------- |
| ms | Sum | Int | Cumulative | true |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| latch_class | SQL Server latch class | Any Str | false |

### sqlserver.wait_stats.latch.waiting_tasks_count

Number of tasks waiting for latch

| Unit | Metric Type | Value Type | Aggregation Temporality | Monotonic |
| ---- | ----------- | ---------- | ----------------------- | --------- |
| 1 | Sum | Int | Cumulative | true |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| latch_class | SQL Server latch class | Any Str | false |

### sqlserver.wait_stats.wait_time

Cumulative wait time for wait type

| Unit | Metric Type | Value Type | Aggregation Temporality | Monotonic |
| ---- | ----------- | ---------- | ----------------------- | --------- |
| ms | Sum | Int | Cumulative | true |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| wait_type | SQL Server wait type classification | Any Str | false |

### sqlserver.wait_stats.waiting_tasks_count

Number of tasks waiting for this wait type

| Unit | Metric Type | Value Type | Aggregation Temporality | Monotonic |
| ---- | ----------- | ---------- | ----------------------- | --------- |
| 1 | Sum | Int | Cumulative | true |

#### Attributes

| Name | Description | Values | Optional |
| ---- | ----------- | ------ | -------- |
| wait_type | SQL Server wait type classification | Any Str | false |

## Resource Attributes

| Name | Description | Values | Enabled |
| ---- | ----------- | ------ | ------- |
| database_name | Database name for database-scoped metrics | Any Str | true |
| db.system | Database system identifier | Any Str | true |
| server.address | SQL Server hostname or IP address | Any Str | true |
| server.port | SQL Server port number | Any Str | true |

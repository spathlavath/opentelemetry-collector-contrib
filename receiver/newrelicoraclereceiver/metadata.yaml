type: newrelicoracledb

status:
  class: receiver
  stability:
    alpha: [metrics]
  distributions: [contrib]
  codeowners:
    active: [newrelic-team]

resource_attributes:
  newrelicoracledb.instance.name:
    description: The name of the Oracle instance that data is coming from.
    enabled: true
    type: string
  host.name:
    description: The host name of Oracle Server
    enabled: true
    type: string

attributes:
  newrelic.entity_name:
    description: New Relic entity name for the metric
    type: string
  database_name:
    description: Name of the database
    type: string
  query_id:
    description: Unique identifier for the query
    type: string
  query_text:
    description: Text of the SQL query
    type: string
  wait_category:
    description: Category of the wait event
    type: string
  wait_event_name:
    description: Name of the wait event
    type: string
  collection_timestamp:
    description: Timestamp when the data was collected
    type: string

metrics:
  newrelicoracledb.sessions.count:
    description: Total number of active Oracle database sessions
    enabled: true
    gauge:
      value_type: int
    unit: "{sessions}"
    attributes:
      - newrelic.entity_name
  newrelicoracledb.total_wait_time:
    description: "The total time waited for a specific event."
    enabled: true
    gauge:
      value_type: int
    unit: "ms"
    attributes:
      - newrelic.entity_name
      - database_name
      - query_id
      - query_text
      - wait_category
      - wait_event_name

tests:
  config:
  goleak:
    ignore:
      any:
      - "github.com/cihub/seelog.(*asyncLoopLogger).processQueue" # see https://github.com/cihub/seelog/issues/182
